import{s as U,o as s,A as Y,j as t,L as O,p as b,v as z}from"./index-BS50Ti_m.js";const g="https://my-travel-app-backend-6.onrender.com",J=()=>{U();const{user:u}=s.useContext(Y),B=u?.isAdmin,[l,E]=s.useState([]),[x,$]=s.useState([]),[h,W]=s.useState([]),[F,D]=s.useState(!0),[q,w]=s.useState([]),[m,y]=s.useState(0),[o,j]=s.useState(0),[r,_]=s.useState(window.innerWidth);s.useEffect(()=>{const e=()=>_(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const d=r<768?1:r<1024?2:3;s.useEffect(()=>{const e=setInterval(()=>{y(i=>(i+1)%l.length)},3e3);return()=>clearInterval(e)},[l.length]),s.useEffect(()=>{async function e(){try{const[i,a,p]=await Promise.all([b.get("/maharashtra-domestic/getallAnimation"),b.get("/maharashtra-domestic/getstates"),b.get("/maharashtra-domestic/getstates2")]);E(i.data),$(Array.isArray(a.data)?a.data:a.data.data||[]),W(p.data)}catch(i){console.error("Error fetching Data:",i)}finally{D(!1)}}e()},[]);const v=()=>j(e=>Math.max(e-d,0)),C=()=>{const e=Math.max(x.length,h.length);j(i=>Math.min(i+d,e-d))},S=async e=>{if(window.confirm("Are you sure you want to delete this image?"))try{(await z.delete(`${g}/api/delete-image/${e}`)).data.success&&(w(a=>a.filter(p=>p._id!==e)),alert("Image deleted successfully!"))}catch(i){console.error("Error deleting:",i),alert("Failed to delete image.")}},k=async(e,i)=>{try{const a=new FormData;a.append("image",i);const p=await z.post(`${g}/api/upload-image/${e}`,a,{headers:{"Content-Type":"multipart/form-data"}});p.data.success&&(w(N=>N.map(f=>f._id===e?{...f,image:p.data.data.image}:f)),alert("Image updated!"))}catch(a){console.error("Error updating:",a)}};if(F)return t.jsx("p",{style:{textAlign:"center",marginTop:"2rem"},children:"â³ Loading..."});if((!x||x.length===0)&&(!h||h.length===0))return t.jsx("p",{style:{textAlign:"center",marginTop:"2rem"},children:"ðŸ›‘ Card is empty"});const A=Array.isArray(x)?x:[],I=Array.isArray(h)?h:[],c=Math.max(A.length,I.length),H=(o+d)/c*100,L=A.slice(o,o+d),M=I.slice(o,o+d),R=e=>({position:"absolute",top:"47%",transform:"translateY(-50%)",width:r<768?"35px":"40px",height:r<768?"35px":"40px",borderRadius:"50%",border:"none",backgroundColor:e?"#bdc3c7":"#3498db",color:"white",fontSize:r<768?"16px":"18px",cursor:e?"not-allowed":"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",transition:"all 0.3s ease",zIndex:10,display:r<768?"none":"block"}),P={display:r>=768?"none":"flex",justifyContent:"center",gap:"20px",marginTop:"20px"},T=e=>({marginTop:"200px",width:"40px",height:"40px",borderRadius:"50%",border:"none",backgroundColor:e?"#bdc3c7":"#3498db",color:"white",fontSize:"18px",cursor:e?"not-allowed":"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",transition:"all 0.3s ease"}),n={container:{maxWidth:"100%",padding:r<768?"10px":"20px",margin:"0 auto"},header:{textAlign:"center",padding:r<768?"10px":"20px",marginBottom:r<768?"10px":"20px"},title:{fontFamily:"initial",fontSize:r<576?"1.8rem":r<768?"2.2rem":r<992?"2.8rem":"3.5rem",fontWeight:"bold",marginBottom:"10px",lineHeight:"1.2"},subtitle:{fontFamily:"initial",fontSize:r<768?"1rem":"1.2rem",marginBottom:"10px"},description:{fontFamily:"initial",fontSize:r<768?"0.9rem":"1rem",lineHeight:"1.5",maxWidth:"800px",margin:"0 auto"},contentWrapper:{display:"flex",flexDirection:r<1024?"column":"row",backgroundColor:"ButtonFace",padding:r<768?"10px":"20px",borderRadius:"10px",gap:r<1024?"20px":"30px"},animationCard:{width:r<1024?"100%":"450px",height:r<768?"350px":r<1024?"450px":"620px",position:"relative",flexShrink:0,marginRight:r<1024?"0":"-25px",marginTop:"10px"},animationImage:{width:"100%",height:B?"141%":"124%",objectFit:"cover",borderRadius:"10px"},dotContainer:{display:"flex",justifyContent:"center",marginTop:"10px",gap:"5px"},dot:{height:"8px",width:"8px",backgroundColor:"#bbb",borderRadius:"50%",display:"inline-block"},activeDot:{backgroundColor:"#3498db"},navButton:{position:"absolute",top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(0,0,0,0.5)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",cursor:"pointer",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"},cardContainer:{flex:1,zIndex:1,position:"relative",backgroundColor:"white",borderRadius:"10px",padding:r<768?"15px":"20px",boxShadow:"0 5px 15px rgba(0,0,0,0.1)",minHeight:"500px"},cardRow:{display:"flex",gap:r<768?"12px":"15px",marginBottom:r<768?"15px":"20px",overflowX:r<820?"auto":"hidden",padding:"10px 0",scrollSnapType:r<820?"x mandatory":"none",scrollbarWidth:"none",msOverflowStyle:"none",minHeight:"320px"},card:{backgroundColor:"white",borderRadius:"10px",overflow:"hidden",boxShadow:"0 3px 10px rgba(0,0,0,0.1)",transition:"all 0.3s ease",cursor:"pointer",minWidth:r<576?"260px":r<820?"280px":r<992?"220px":"280px",flex:r<820?"0 0 auto":"1",scrollSnapAlign:r<820?"start":"none",minHeight:"300px"},cardImage:{width:"100%",height:r<576?"200px":r<820?"220px":r<992?"240px":"260px",objectFit:"cover"},cardContent:{padding:r<768?"10px":"15px",textAlign:"center"},cardTitle:{margin:"0",fontSize:r<576?"1rem":"1.1rem",color:"black",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},progressBar:{width:"100%",height:"6px",backgroundColor:"#e0e0e0",borderRadius:"4px",marginTop:"15px",overflow:"hidden"},progressFill:{height:"100%",background:"linear-gradient(90deg, #3498db, #e74c3c, #09c47cff)",borderRadius:"3px",transition:"width 0.3s ease"},progressText:{textAlign:"center",marginTop:"10px",fontSize:r<576?"12px":"14px",color:"#7f8c8d"}};return t.jsxs("div",{style:n.container,children:[t.jsxs("div",{style:n.header,children:[t.jsx("h1",{style:n.title,children:'ðŸ‡®ðŸ‡³ "Explore the States, Embrace the Soul of India!"'}),t.jsx("h3",{style:n.subtitle,children:"From the snowy Himalayas to the sunny beaches of the South â€“ India is waiting for you."}),t.jsx("p",{style:n.description,children:"From snowy peaks to sandy shores, spiritual cities to lush forests â€” every Indian state offers a unique adventure. Dive into the colors, cultures, and stories that make India truly incredible. Your journey starts here..!"})]}),t.jsxs("div",{style:n.contentWrapper,children:[t.jsxs("div",{style:n.animationCard,children:[t.jsxs("div",{style:{position:"relative",height:"100%"},children:[t.jsx("button",{style:{...n.navButton,right:"10px"},onClick:()=>y(e=>(e+1)%l.length),children:">"}),t.jsx("button",{style:{...n.navButton,left:"10px"},onClick:()=>y(e=>(e-1+l.length)%l.length),children:"<"}),t.jsx("img",{src:l[m]?.images,alt:`Slide ${m}`,style:n.animationImage,loading:"lazy"})]}),t.jsx("div",{style:n.dotContainer,children:Array.isArray(l)&&l.map((e,i)=>t.jsx("span",{style:i===m?{...n.dot,...n.activeDot}:n.dot},i))})]}),t.jsxs("div",{style:n.cardContainer,children:[t.jsx("button",{onClick:v,disabled:o===0,style:{...R(o===0)},children:"â†"}),t.jsx("button",{onClick:C,disabled:o+d>=c,style:{...R(o+d>=c),right:0},children:"â†’"}),t.jsx("div",{style:n.cardRow,children:L.map((e,i)=>t.jsxs("div",{style:n.card,children:[t.jsx(O,{to:"/Maharashtra",children:t.jsx("img",{src:e.image?`${g}${e.image}`:"/placeholder.jpg",loading:"lazy",style:n.cardImage})}),t.jsxs("div",{style:n.cardContent,children:[t.jsx("h3",{style:n.cardTitle,children:e.title}),u?.isAdmin&&t.jsxs("div",{style:{marginTop:"15px",display:"flex",justifyContent:"center",gap:"10px"},children:[t.jsx("input",{id:`file-${e._id}`,type:"file",style:{display:"none"},onChange:a=>k(e._id,a.target.files[0])}),t.jsx("button",{onClick:()=>document.getElementById(`file-${e._id}`).click(),style:{padding:"8px 12px",backgroundColor:"#f39c12",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Update"}),t.jsx("button",{onClick:()=>S(e.id),style:{padding:"8px 12px",backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Delete"})]})]})]},e.id||i))}),t.jsx("div",{style:n.cardRow,children:M.map((e,i)=>t.jsxs("div",{style:n.card,children:[t.jsx("img",{src:e.image?`${g}${e.image}`:"/placeholder.jpg",loading:"eager",style:n.cardImage}),t.jsxs("div",{style:n.cardContent,children:[t.jsx("h3",{style:n.cardTitle,children:e.title}),u?.isAdmin&&t.jsxs("div",{style:{marginTop:"15px",display:"flex",justifyContent:"center",gap:"10px"},children:[t.jsx("input",{id:`file-${e._id}`,type:"file",style:{display:"none"},onChange:a=>k(e._id,a.target.files[0])}),t.jsx("button",{onClick:()=>document.getElementById(`file-${e._id}`).click(),style:{padding:"8px 12px",backgroundColor:"#f39c12",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Update"}),t.jsx("button",{onClick:()=>S(e._id),style:{padding:"8px 12px",backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Delete"})]})]})]},e.id||i))}),t.jsx("div",{style:n.progressBar,children:t.jsx("div",{style:{...n.progressFill,width:`${H}%`}})}),t.jsxs("div",{style:n.progressText,children:["Showing ",o+1,"-",Math.min(o+d,c)," of ",c," destinations"]})]})]}),t.jsxs("div",{style:P,children:[t.jsx("button",{onClick:v,disabled:o===0,style:T(o===0),children:"<"}),t.jsx("button",{onClick:C,disabled:o+d>=c,style:T(o+d>=c),children:">"})]})]})};export{J as default};
